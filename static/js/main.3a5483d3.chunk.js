(this["webpackJsonpimage-catalog"]=this["webpackJsonpimage-catalog"]||[]).push([[0],{14:function(n,t,e){},26:function(n,t,e){"use strict";e.r(t);var c,r=e(0),a=e.n(r),o=e(15),i=e.n(o),u=(e(14),e(2)),s=e(8),b=e(3),l=function(n){var t=Object(r.useState)([]),e=Object(b.a)(t,2),c=e[0],a=e[1];return{images:c,load:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=function(t){return"https://api.giphy.com/v1/gifs/random?api_key=".concat(n,"&tag=").concat(t)},i="\u041f\u043e \u0442\u0435\u0433\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e";return new Promise((function(n,t){var r=e.map((function(n){return fetch(o(n)).then((function(n){return n.json()})).then((function(t){return Object(u.a)({tag:n},t)}))}));Promise.all(r).then((function(n){return n.filter((function(n){return n.data.image_url}))})).then((function(n){if(n.length!==r.length)throw i;return n})).then((function(n){return{ids:n.map((function(n){return n.data.id})),srcs:n.map((function(n){return n.data.image_url})),tags:n.map((function(n){return n.tag})),complex:e.length>1}})).then((function(t){var e=[t].concat(Object(s.a)(c));a(e),n(e)})).catch((function(n){t(n===i?n:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 HTTP \u043e\u0448\u0438\u0431\u043a\u0430")}))}))},clear:function(){a([])},group:function(){var n=new Map;return c.forEach((function(t){return t.tags.forEach((function(e,c){var r=[t.ids[c]],a=[t.srcs[c]],o=[t.tags[c]],i=Object(u.a)(Object(u.a)({},t),{},{ids:r,srcs:a,tags:o});n.get(e)?n.set(e,[].concat(Object(s.a)(n.get(e)),[i])):n.set(e,[i])}))})),Array.from(n.entries())}}},d=e(6),j=e(4),f=e(5),g=f.b.input.attrs((function(n){return{type:"text"}}))(c||(c=Object(j.a)(["\n  padding: 5px 10px;\n  font-size: 15px;\n  border: 1px solid #eaeaea;\n  border-radius: 3px;\n  flex: 1;\n"]))),O=e(1);var h,p,m,x,v,w=function(n){n.type;var t=Object(d.a)(n,["type"]);return Object(O.jsx)(g,Object(u.a)({},t))},y=f.b.button(h||(h=Object(j.a)(["\n  border: none;\n  background: #eeeeee;\n  outline: none;\n  color: rgb(63, 69, 74);\n  padding: 10px 15px;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: 0.1s;\n  margin-right: 5px;\n  margin-bottom: 5px;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),(function(n){return!n.disabled&&Object(f.a)(p||(p=Object(j.a)(["\n    &:hover {\n      opacity: 0.8;\n    }\n\n    &:active {\n      opacity: 0.7;\n    }\n  "])))}),(function(n){return n.primary&&Object(f.a)(m||(m=Object(j.a)(["\n    background: rgb(0, 108, 255);\n    color: white;\n  "])))}),(function(n){return n.secondary&&Object(f.a)(x||(x=Object(j.a)(["\n    background: rgb(255, 0, 103);\n    color: white;\n  "])))}),(function(n){return n.disabled&&Object(f.a)(v||(v=Object(j.a)(["\n    color: #b8b8b8;\n    background: rgb(241, 241, 241);\n    cursor: auto;\n  "])))}));var k=function(n){return Object(O.jsx)(y,Object(u.a)(Object(u.a)({},n),{},{children:n.children}))};var S,T=function(n){var t=n.on,e=n.off,c=n.switched,a=n.onSwitch,o=Object(d.a)(n,["on","off","switched","onSwitch"]),i=Object(r.useState)(null!==c&&void 0!==c&&c),s=Object(b.a)(i,2),l=s[0],j=s[1];return Object(O.jsx)(k,Object(u.a)(Object(u.a)({},o),{},{onClick:function(){a&&a(),j(!l)},children:l?t:e}))},C="200px",A=f.b.div(S||(S=Object(j.a)(["\n  max-width: ",";\n  display: inline-block;\n  padding: 5px;\n  border: 1px solid #eaeaea;\n\n  & * {\n    max-width: ",";\n    max-height: ",";\n    cursor: pointer;\n  }\n"])),C,C,"200px");var E=function(n){var t=n.ids,e=n.srcs,c=n.tags,a=n.showTag,o=Object(d.a)(n,["ids","srcs","tags","showTag"]);return Object(O.jsx)(A,{children:e.length>1?e.map((function(n,e){return Object(r.createElement)("img",Object(u.a)(Object(u.a)({},o),{},{key:t[e],src:n,alt:n,onClick:function(){return a(c[e])}}))})):Object(r.createElement)("img",Object(u.a)(Object(u.a)({},o),{},{key:t[0],src:e[0],alt:e[0],onClick:function(){return a(c[0])}}))})};var N=function(n){var t=Object(r.useState)(""),e=Object(b.a)(t,2),c=e[0],a=e[1];return{bind:{value:c,onChange:function(t){a(n(t.target.value))}},value:c,setValue:a}};var L=function(){var n=l("gTJAO48YcpmrADUyo4opy4ES4g7iDBxx"),t=Object(r.useState)(!1),e=Object(b.a)(t,2),c=e[0],a=e[1],o=Object(r.useState)(!1),i=Object(b.a)(o,2),d=i[0],j=i[1],f=N((function(n){return n.replaceAll(/[^A-Za-z,]/g,"").replaceAll(/,+/g,",").toLowerCase()}));Object(r.useEffect)((function(){if("delay"===f.value){var t=setTimeout((function(){var t=["cat","dog","mouse","frog","human"],e=t[Math.floor(Math.random()*(t.length-1))];a(!0),n.load(e).catch((function(n){alert(n),a(!1)}))}),5e3);return function(){return clearTimeout(t)}}}),[n,f]);var g=function(n){f.setValue(n)};return Object(O.jsxs)("div",{className:"page-container",children:[Object(O.jsxs)("div",{className:"page-controls",children:[Object(O.jsx)(w,Object(u.a)(Object(u.a)({},f.bind),{},{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433\u0438 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e"})),Object(O.jsxs)("div",{className:"buttons",children:[Object(O.jsx)(k,{primary:!0,disabled:c,onClick:function(){f.value?(a(!0),f.setValue(""),n.load.apply(n,Object(s.a)(f.value.split(","))).catch((function(n){alert(n),a(!1)}))):alert('\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "\u0422\u0435\u0433"')},children:c?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(O.jsx)(k,{secondary:!0,onClick:function(){n.clear(),a(!1),f.setValue("")},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(O.jsx)(T,{on:"\u0420\u0430\u0437\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",off:"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onSwitch:function(){j(!d)}})]})]}),Object(O.jsx)("div",{className:"images-grid",children:d?n.group().map((function(n,t){var e=Object(b.a)(n,2),c=e[0],r=e[1];return Object(O.jsxs)("div",{className:"group",children:[Object(O.jsx)("h4",{children:c}),Object(O.jsx)("div",{className:"group-container",children:r.map((function(n,t){return Object(O.jsx)(E,{ids:n.ids,showTag:g,onLoad:function(){return a(!1)},srcs:n.srcs,tags:n.tags},n.ids.reduce((function(n,t){return n+t}),""))}))})]},t)})):n.images.map((function(n){return Object(O.jsx)(E,{ids:n.ids,showTag:g,onLoad:function(){return a(!1)},srcs:n.srcs,tags:n.tags},n.ids.reduce((function(n,t){return n+t}),""))}))})]})};var P=function(){return Object(O.jsx)(L,{})},F=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,27)).then((function(t){var e=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;e(n),c(n),r(n),a(n),o(n)}))};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(P,{})}),document.getElementById("root")),F()}},[[26,1,2]]]);
//# sourceMappingURL=main.3a5483d3.chunk.js.map